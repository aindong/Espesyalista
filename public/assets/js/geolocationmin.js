!function(){function t(t){return{lat:t.location.lat,lng:t.location.lon,title:"data.name",icon:"/assets/img/mapicon.png",infoWindow:{content:e(t)},click:function(){$("#instructions").html(""),a.cleanRoute(),a.travelRoute({origin:[n.lat,n.lng],destination:[t.location.lat,t.location.lon],travelMode:"driving",step:function(t){$("#instructionContainer").show(),$("#instructions").append("<li>"+t.instructions+"</li>"),$("#instructions li:eq("+t.step_number+")").delay(200*t.step_number).fadeIn(200,function(){a.drawPolyline({path:t.path,strokeColor:"red",strokeOpacity:.6,strokeWeight:6})})}})}}}function e(t){var e="<h4>"+t.name+"</h4>";return e+="<strong>Services Offered</strong>",e+="<ul>",e+="<li>Consultation</li><li>Laboratory</li><li>X-ray</li><li>Ultrasound</li>",e+="</ul>",e+='<a href="/clinic/'+t.id+'/book" class="btn btn-danger">Book now</a>'}var o=[{featureType:"landscape",stylers:[{hue:"#FFBB00"},{saturation:43.400000000000006},{lightness:37.599999999999994},{gamma:1}]},{featureType:"road.highway",stylers:[{hue:"#FFC200"},{saturation:-61.8},{lightness:45.599999999999994},{gamma:1}]},{featureType:"road.arterial",stylers:[{hue:"#FF0300"},{saturation:-100},{lightness:51.19999999999999},{gamma:1}]},{featureType:"road.local",stylers:[{hue:"#FF0300"},{saturation:-100},{lightness:52},{gamma:1}]},{featureType:"water",stylers:[{hue:"#0078FF"},{saturation:-13.200000000000003},{lightness:2.4000000000000057},{gamma:1}]},{featureType:"poi",stylers:[{hue:"#00FF6A"},{saturation:-1.0989010989011234},{lightness:11.200000000000017},{gamma:1}]}],a=new GMaps({div:"#map",lat:-12.043333,lng:-77.028333,panControl:!0,streetViewControl:!1,mapTypeControl:!1,overviewMapControl:!1}),n={lat:0,lng:0};a.addStyle({styledMapName:"Styled Map",styles:o,mapTypeId:"map_style"}),a.setStyle("map_style"),$.get("/api/v1/clinics",function(e){console.log(e),$.each(e.data,function(e,o){a.addMarker(t(o))})}),GMaps.geolocate({success:function(t){a.setCenter(t.coords.latitude,t.coords.longitude),a.addMarker({lat:t.coords.latitude,lng:t.coords.longitude,title:"You are here",infoWindow:{content:"<p>You are here</p>"}}),n.lat=t.coords.latitude,n.lng=t.coords.longitude},error:function(t){alert("Geolocation failed: "+t.message)},not_supported:function(){alert("Your browser does not support geolocation")}})}();